<mat-toolbar class="p-0 mat-elevation-z1">
    <div fxFlex fxFill fxLayout="row" fxLayoutAlign="start center">
        <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
            <button mat-icon-button class="navbar-toggle-button" *ngIf="!hiddenNavbar && !rightNavbar"
                (click)="toggleSidebarOpen('navbar')" fxHide.gt-md>
                <mat-icon class="secondary-text">menu</mat-icon>
            </button>
            <div class="toolbar-separator" *ngIf="!hiddenNavbar && !rightNavbar" fxHide.gt-md></div>
            <div fxLayout="row" fxLayoutAlign="start center" *ngIf="horizontalNavbar">
                <div class="logo ml-16">
                    <img class="logo-icon" src="assets/images/logos/trainerlogo.png">
                </div>
            </div>
        </div>

        <div class="" fxFlex="0 1 auto" fxLayout="row" fxLayoutAlign="start center">
            <!-- <button mat-button [matMenuTriggerFor]="notificationMenu" (menuClosed)="resetNotifications()"
                (menuOpened)="getNotifications()" class="user-button">
                <div fxLayout="row" fxLayoutAlign="center center">
                    <mat-icon>notifications</mat-icon>
                </div>
            </button> -->
            <mat-menu #notificationMenu="matMenu" class="notification-menu-panel" [overlapTrigger]="false">
                <div (click)="$event.stopPropagation()" class="notifications-menu" *ngIf="notifications && notifications.length > 0">
                    <div class="notification" *ngFor="let notification of notifications" fxLayout="row"
                        fxLayoutGap="10px">
                        <!-- <mat-icon class="notification-thumbnail">account_circle</mat-icon> -->
                        <!-- <div class="notification-thumbnail-div">
                            <img class="notification-thumbnail" src="assets/images/logos/fuse.svg"/>
                        </div> -->
                        <div class="notification-content" fxLayout="column">
                            <div class="notification-title">
                                {{notification.subject}}
                            </div>
                            <div class="notification-subtitle">
                                {{notification.body}}
                            </div>
                        </div>

                        <div class="notification-arrival-time">
                            {{ViewTimeAgo(notification.createdAt)}}
                        </div>
                    </div>

                    <div class="notifications-menu-footer">
                        <div class="view-all" (click)="viewAllNotifications($event)">View all</div>
                    </div>
                </div>

                <div class="notifications-menu" *ngIf="notifications && notifications.length === 0">
                    <div class="notification no-notification" fxLayout="row" fxLayoutGap="10px">
                        <div>No recent notification.</div>
                    </div>

                    <div class="notifications-menu-footer" routerLink="/notifications">
                        <div class="view-all">View all</div>
                    </div>
                </div>

                <!-- <div *ngIf="isloading">
                    <mat-spinner ></mat-spinner>
                </div> -->

                <!-- <div class="loader" *ngIf="notifications.length === 0 && isloading">
                    <mat-spinner></mat-spinner>
                </div> -->
            </mat-menu>

            <div class="toolbar-separator"></div>

            <button mat-button [matMenuTriggerFor]="userMenu" class="user-button">
                <div fxLayout="row" fxLayoutAlign="center center">
                    <!-- <mat-icon>account_circle</mat-icon> -->
                    <div *ngIf="user" class="user-name">{{user.name}}</div>
                    <mat-icon class="s-16" fxHide.xs>keyboard_arrow_down</mat-icon>
                </div>
            </button>
            <mat-menu #userMenu="matMenu" [overlapTrigger]="false">

                <!-- <button mat-menu-item (click)="changePassword()">
                    <mat-icon>account_circle</mat-icon>
                    <span>Change Password</span>
                </button> -->

                <button mat-menu-item class="" (click)="logout()">
                    <mat-icon>exit_to_app</mat-icon>
                    <span>Logout</span>
                </button>

            </mat-menu>
        </div>
    </div>
</mat-toolbar>